pic96px_KernelStart
	LDA	frameColor
	STA	WSYNC		; (76)
	STA	HMCLR		; 3
	STA	COLUBK		; 3 (6)
	LDA	#0		; 2 (8)
	STA	PF0		; 3 (11)
	STA	PF1		; 3 (14)
	STA	PF2		; 3 (17)
	STA	GRP0		; 3 (20)
	STA	GRP1		; 3 (23)
	STA	VDELP0		; 3 (26)
	STA	VDELP1		; 3 (29)

	STA	RESP0		; 3 (32)
	sleep	3		;   (34)	
	STA	RESP1		; 3 (37) Set the X pozition of sprites.

	LDA	#picHeight	; height of the picture 3 (40)
	SEC			; 2 (42)
	SBC	picIndex	; index of scrolling 3 (45)
	STA	temp01		; starting point 3 (48)
	TAY			; 2 (50)

	SEC			; 2 (52)
	SBC 	picDisplayHeight ; 3 (55)
	STA 	temp02		; displayed height (stops if Y gets here) 3 (58)

	LDA	#$06		; 2 (60)
	STA	NUSIZ0		; 3 (63)
	STA	NUSIZ1		; 3 (66) 

	LDA	#%00000001	; mirrored pf with regular colors 2 (68)
 	STA	CTRLPF		; 3 (71)

	STA	WSYNC		; (76)	- One line wasted
	STA	HMCLR		; 3 

	LDA	counter		; 3 (6)
	AND	#%00000001	; 2 (8)
	CMP	#%00000001	; 2 (10)
	BNE	pic96px_OddFrame  ; 2 (12)
	JMP	pic96px_EvenFrame ; 3 (15)	

	align	256

pic96px_OddFrame
pic96px_EvenFrame

	LDA	#$00				; 2
	STA 	HMP0				; 3 
	LDA	#$00				; 2 
	STA 	HMP1				; 3 
	STA 	WSYNC				; 76


pic96px_OddFrame_Line1
	STA	HMOVE				; 3 
	LDA	pic96px_Color,y			; 4 (7)
	STA	COLUP0				; 3 (10) 
	STA	COLUP1				; 3 (13)
	LDA	pic96px_00,y			; 4 (17)
	STA	GRP0				; 3 (20)
	LDA	pic96px_02,y			; 4 (24)
	STA	GRP1				; 2 (26)


	sleep  39				;  (66)	
	LDA	#$00				; 2 (68)
	STA 	HMP0				; 3 (71)
	LDA	#$00				; 2 (73)
	STA 	HMP1				; 3 (76)

pic96px_OddFrame_Line2
	STA	HMOVE				; 3 
	LDA	pic96px_00,y			; 4 (7)
	STA	GRP0				; 3 (10)
	LDA	pic96px_02,y			; 4 (14)
	STA	GRP1				; 3 (17)

	sleep	39				; (56)
	LDA	#$00				; 2 (58)
	STA 	HMP0				; 3 (61)
	LDA	#$00				; 2 (63)
	STA 	HMP1				; 3 (66)
	DEY					; 2 (68)
	CPY	temp02				; 3 (71)
	BEQ	pic96px_Reset			; 2 (73)	
	JMP	pic96px_OddFrame_Line1		; 3 (76)
pic96px_Reset
	LDA	frameColor
	STA	WSYNC		; (76)
	STA	COLUBK		
	LDA	#0		
	STA	PF0
	STA	PF1		
	STA	PF2		
	STA	GRP0		
	STA	GRP1		
	STA	VDELP0		
	STA	VDELP1		

	JMP	TestEnded

pic96px_Data_Section

	align	256

pic96px_00
	BYTE %00000000
	BYTE %00000000
	BYTE %00000001
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000011
	BYTE %00000111
	BYTE %00011111
	BYTE %01111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %00000000
	BYTE %00000000	; 43

pic96px_01
	BYTE %00000000
	BYTE %00000000
	BYTE %11000000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11110000
	BYTE %11110000
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111000
	BYTE %11110000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11100000
	BYTE %11110000
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11100000
	BYTE %00000000
	BYTE %00000000	; 86


pic96px_02
	BYTE %00000000
	BYTE %00000000
	BYTE %00000111
	BYTE %00001111
	BYTE %00011111
	BYTE %00111111
	BYTE %01111111
	BYTE %01111110
	BYTE %01111100
	BYTE %01111100
	BYTE %01111100
	BYTE %01111110
	BYTE %01111111
	BYTE %00111111
	BYTE %00111111
	BYTE %00011111
	BYTE %00001111
	BYTE %00000011
	BYTE %00000000
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000	; 129

pic96px_03
	BYTE %00000000
	BYTE %00000000
	BYTE %11111100
	BYTE %11111110
	BYTE %11111111
	BYTE %11111111
	BYTE %00011111
	BYTE %00001111
	BYTE %00000111
	BYTE %00000111
	BYTE %00000111
	BYTE %00001111
	BYTE %00011111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111110
	BYTE %11111000
	BYTE %00000000
	BYTE %11110000
	BYTE %11111000
	BYTE %11111000
	BYTE %11110000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000	; 172

pic96px_04
	BYTE %00000000
	BYTE %00000000
	BYTE %00000111
	BYTE %00000111
	BYTE %00000111
	BYTE %10000111
	BYTE %11000111
	BYTE %11000111
	BYTE %11000111
	BYTE %11000111
	BYTE %11000111
	BYTE %11000111
	BYTE %11000111
	BYTE %10000111
	BYTE %10000111
	BYTE %00000011
	BYTE %00000001
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000	; 215

	align	255

pic96px_05
	BYTE %00000000
	BYTE %00000000
	BYTE %11000000
	BYTE %11000000
	BYTE %11000000
	BYTE %11000000
	BYTE %11000001
	BYTE %11000001
	BYTE %11000001
	BYTE %11000001
	BYTE %11000001
	BYTE %11000001
	BYTE %11000001
	BYTE %11100001
	BYTE %11111001
	BYTE %11111001
	BYTE %11111001
	BYTE %11111001
	BYTE %00000001
	BYTE %00000001
	BYTE %00000001
	BYTE %00000001
	BYTE %00000001
	BYTE %00000001
	BYTE %00000001
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000

pic96px_06
	BYTE %00000000
	BYTE %00000000
	BYTE %00011110
	BYTE %01111110
	BYTE %11111110
	BYTE %11111110
	BYTE %11111100
	BYTE %11110000
	BYTE %11110000
	BYTE %11110000
	BYTE %11110000
	BYTE %11110000
	BYTE %11110000
	BYTE %11110000
	BYTE %11111110
	BYTE %11111110
	BYTE %11111110
	BYTE %11111110
	BYTE %11110000
	BYTE %11110000
	BYTE %11110000
	BYTE %11110000
	BYTE %11110000
	BYTE %11110000
	BYTE %11110000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000

pic96px_07
	BYTE %00000000
	BYTE %00000000
	BYTE %00000111
	BYTE %00001111
	BYTE %00011111
	BYTE %00111111
	BYTE %01111110
	BYTE %01111100
	BYTE %01111000
	BYTE %01111000
	BYTE %01111000
	BYTE %01111100
	BYTE %01111110
	BYTE %01111111
	BYTE %00111111
	BYTE %00011111
	BYTE %00001111
	BYTE %00000111
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000

pic96px_08
	BYTE %00000000
	BYTE %00000000
	BYTE %11111011
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %00011111
	BYTE %00001111
	BYTE %00000111
	BYTE %00000111
	BYTE %00000111
	BYTE %00001111
	BYTE %00011111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111110
	BYTE %11111100
	BYTE %11111000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000

pic96px_09
	BYTE %00000000
	BYTE %00000000
	BYTE %11100111
	BYTE %11100111
	BYTE %11100111
	BYTE %11100111
	BYTE %11100111
	BYTE %11100111
	BYTE %11100111
	BYTE %11100111
	BYTE %11100111
	BYTE %11000111
	BYTE %11000111
	BYTE %10000111
	BYTE %00000111
	BYTE %00000011
	BYTE %00000001
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000

	align	255

pic96px_10
	BYTE %00000000
	BYTE %00000000
	BYTE %11000011
	BYTE %11000011
	BYTE %11000011
	BYTE %11000011
	BYTE %11000011
	BYTE %11000011
	BYTE %11000011
	BYTE %11000011
	BYTE %11000000
	BYTE %11000000
	BYTE %11000000
	BYTE %11100000
	BYTE %11111000
	BYTE %11111000
	BYTE %11111000
	BYTE %11111000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000

pic96px_11
	BYTE %00000000
	BYTE %00000000
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %11111111
	BYTE %00111111
	BYTE %00011111
	BYTE %00001111
	BYTE %00001111
	BYTE %00001111
	BYTE %00001111
	BYTE %00001111
	BYTE %00001111
	BYTE %00001111
	BYTE %00000000
	BYTE %00000000
	BYTE %00001111
	BYTE %00001111
	BYTE %00001111
	BYTE %00001111
	BYTE %00001111
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000
	BYTE %10000000
	BYTE %11100000
	BYTE %11110000
	BYTE %11100000
	BYTE %11000000
	BYTE %00000000
	BYTE %00000000
	BYTE %00000000

pic96px_Color
	BYTE	#$00
	BYTE	#$02
	BYTE	#$04
	BYTE	#$06
	BYTE	#$08
	BYTE	#$0a
	BYTE	#$0c
	BYTE	#$0e
	BYTE	#$10
	BYTE	#$12
	BYTE	#$14
	BYTE	#$16
	BYTE	#$18
	BYTE	#$1a
	BYTE	#$1c
	BYTE	#$1e
	BYTE	#$20
	BYTE	#$22
	BYTE	#$24
	BYTE	#$26
	BYTE	#$28
	BYTE	#$2a
	BYTE	#$28
	BYTE	#$26
	BYTE	#$24
	BYTE	#$22
	BYTE	#$20
	BYTE	#$1c
	BYTE	#$1c
	BYTE	#$1a
	BYTE	#$18
	BYTE	#$16
	BYTE	#$14
	BYTE	#$12
	BYTE	#$10
	BYTE	#$0e
	BYTE	#$0c
	BYTE	#$0a
	BYTE	#$08
	BYTE	#$06
	BYTE	#$04
	BYTE	#$02
	BYTE	#$00	; 129

TestEnded